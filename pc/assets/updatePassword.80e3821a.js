import{_ as b,m as k,z as y,A as I,B as P,C as D,x as _,u as W,r as T,o as a,c as r,d as e,k as x,t as p,w as h,j as f,v as w,g as d,D as v,e as M,s as S,E as V,G as N}from"./index.7cc1cd3e.js";import B from"./footer.1b202901.js";import{_ as L}from"./logo.ba36431f.js";import{_ as U}from"./kefu.806a5f75.js";import{_ as g,a as C,b as R}from"./hide.6b7632d5.js";const A={name:"register",components:{mainFooter:B},data(){return{showtwoPassword:!1,showPassword:!1,showContact:!1,userName:"",passWord:"",twopassWord:"",phone:"",gender:0,smsCode:"",originTime:30,code:"",timeDown:30,timer:null,contact:{name:"",phone:"",message:""},captcha:"",time:new Date().getTime(),errInfo:""}},computed:{...k(["userInfo"])},mounted(){this.getCaptcha()},methods:{getCaptcha(){y({time:this.time}).then(t=>{const o=new FileReader,m=this;o.onloadend=function(l){m.captcha=l.target.result},o.readAsDataURL(t.data)})},refershCode(){this.time=new Date().getTime(),this.code="",this.getCaptcha()},checkCaptcha(){if(!this.code){this.errInfo="\u8BF7\u8F93\u5165\u56FE\u5F62\u9A8C\u8BC1\u7801";return}I({time:this.time,code:this.code}).then(({data:t})=>{t.data?(this.sendSms(),this.errInfo=""):(this.refershCode(),this.errInfo="\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u56FE\u5F62\u9A8C\u8BC1\u7801")})},sendSms(){P({mobile:this.phone}).then(t=>{t&&t.data&&t.data.success&&this.timeDownfn()})},timeDownfn(){this.timer=setTimeout(()=>{this.timeDown=this.timeDown-1,this.timeDown<=1?(this.timeDown=this.originTime,this.timer&&clearTimeout(this.timer)):(this.timer&&clearTimeout(this.timer),this.timeDownfn())},1e3)},backLogin(){this.$router.replace("/index")},onRegister(){const{userName:t,passWord:o,gender:m,smsCode:l,phone:s}=this;D({userName:t,passWord:_(o),gender:m,smsCode:l,phone:s}).then(n=>{console.log(n)})},onModify(){const{userName:t,passWord:o,gender:m,smsCode:l,phone:s,twopassWord:n}=this;if(!n){this.errInfo="\u8BF7\u786E\u8BA4\u5BC6\u7801";return}if(!o||!l){this.errInfo="\u8BF7\u8F93\u5165\u5B8C\u6574\u4FE1\u606F";return}W({code:l,passWord:_(o),userMobile:s,mobile:s,time:this.time}).then(u=>{u.data.success?(this.$message.success("\u4FEE\u6539\u6210\u529F"),setTimeout(()=>{this.$store.dispatch("LogOut"),this.backLogin()},2e3)):(this.$message.error(u.data.msg),this.refershCode())})},onMenuClick(t){t.link&&this.$router.push(t.link)}}},c=t=>(V("data-v-90b54a92"),t=t(),N(),t),E={class:"index-container"},F=S('<div class="header" data-v-90b54a92><div class="container" data-v-90b54a92><span data-v-90b54a92>Hi </span>\u6B22\u8FCE\u60A8\u7684\u8BBF\u95EE</div></div><div class="logoContent" data-v-90b54a92><div class="container" data-v-90b54a92><div class="logo" data-v-90b54a92><img src="'+L+'" alt="" data-v-90b54a92></div><div class="phone" data-v-90b54a92><img src="'+U+'" alt="" data-v-90b54a92><div class="phoneInfo" data-v-90b54a92><p class="phonenumber" data-v-90b54a92>400-820-8820</p><p class="time" data-v-90b54a92>\u5DE5\u4F5C\u65F6\u95F4\uFF1A9:00-17:00</p></div></div></div></div>',2),G={class:"bannerContent"},j={class:"carouseCard",style:{height:"675px"}},z=c(()=>e("img",{src:R,alt:""},null,-1)),H={class:"loginContent register"},O=c(()=>e("h4",{class:"loginTitle"},"\u4FEE\u6539\u5BC6\u7801",-1)),q={class:"inputItem"},J={class:"phoneInfo"},K={class:"smscodeCon"},Q={class:"inputItem"},X={class:"placeholder",for:"code"},Y=c(()=>e("div",{class:"cut"},null,-1)),Z={class:"sendBtn"},$=["src"],ss={class:"smscodeCon"},es={class:"inputItem"},os={class:"placeholder",for:"smsCode"},ts=c(()=>e("div",{class:"cut"},null,-1)),is={class:"sendBtn"},ns={key:1,class:"hasSend"},as={class:"inputItem"},rs=["type"],ds={key:0,class:"placeholder",for:"passWord"},ls=c(()=>e("div",{class:"cut"},null,-1)),cs={class:"inputItem"},hs=["type"],ms={key:0,class:"placeholder",for:"twopassWord"},ps=c(()=>e("div",{class:"cut"},null,-1)),us={class:"errInfo"},_s={class:"other"},fs=c(()=>e("p",null,null,-1));function ws(t,o,m,l,s,n){const u=T("main-footer");return a(),r("div",E,[F,e("div",G,[e("div",j,[z,e("div",H,[O,e("div",q,[e("div",J,[x(" \u767B\u5F55\u624B\u673A\u53F7\uFF1A "),e("span",null,p((t.userInfo.userMobile+"").slice(0,3)),1),e("span",null,p((t.userInfo.userMobile+"").slice(3,7)),1),e("span",null,p((t.userInfo.userMobile+"").slice(7,11)),1)])]),e("div",K,[e("div",Q,[h(e("input",{autocomplete:"off","onUpdate:modelValue":o[0]||(o[0]=i=>s.code=i),class:"input",id:"code",type:"text"},null,512),[[f,s.code]]),h(e("label",X,"\u8F93\u5165\u56FE\u5F62\u9A8C\u8BC1\u7801",512),[[w,!s.code]]),Y]),e("div",Z,[e("img",{src:s.captcha,alt:"",onClick:o[1]||(o[1]=(...i)=>n.refershCode&&n.refershCode(...i))},null,8,$)])]),e("div",ss,[e("div",es,[h(e("input",{autocomplete:"off","onUpdate:modelValue":o[2]||(o[2]=i=>s.smsCode=i),class:"input",id:"smsCode",type:"text"},null,512),[[f,s.smsCode]]),h(e("label",os,"\u8F93\u5165\u624B\u673A\u9A8C\u8BC1\u7801",512),[[w,!s.smsCode]]),ts]),e("div",is,[s.timeDown===s.originTime?(a(),r("div",{key:0,class:"send",onClick:o[3]||(o[3]=(...i)=>n.checkCaptcha&&n.checkCaptcha(...i))}," \u53D1\u9001 ")):d("",!0),s.timeDown!==s.originTime?(a(),r("div",ns,p(s.timeDown),1)):d("",!0)])]),e("div",as,[h(e("input",{"onUpdate:modelValue":o[4]||(o[4]=i=>s.passWord=i),class:"input",id:"passWord",type:s.showPassword?"text":"password"},null,8,rs),[[v,s.passWord]]),s.passWord?d("",!0):(a(),r("label",ds,"\u767B\u5F55\u5BC6\u7801")),ls,s.showPassword?(a(),r("img",{key:1,onClick:o[5]||(o[5]=i=>s.showPassword=!1),src:g,alt:"",class:"togglePassword"})):d("",!0),s.showPassword?d("",!0):(a(),r("img",{key:2,onClick:o[6]||(o[6]=i=>s.showPassword=!0),src:C,alt:"",class:"togglePassword"}))]),e("div",cs,[h(e("input",{autocomplete:"off","onUpdate:modelValue":o[7]||(o[7]=i=>s.twopassWord=i),class:"input",id:"twopassWord",type:s.showtwoPassword?"text":"password"},null,8,hs),[[v,s.twopassWord]]),s.twopassWord?d("",!0):(a(),r("label",ms,"\u518D\u6B21\u8F93\u5165\u767B\u5F55\u5BC6\u7801")),ps,s.showtwoPassword?(a(),r("img",{key:1,onClick:o[8]||(o[8]=i=>s.showtwoPassword=!1),src:g,alt:"",class:"togglePassword"})):d("",!0),s.showtwoPassword?d("",!0):(a(),r("img",{key:2,onClick:o[9]||(o[9]=i=>s.showtwoPassword=!0),src:C,alt:"",class:"togglePassword"}))]),e("p",us,p(s.errInfo),1),e("div",{class:"button",onClick:o[10]||(o[10]=(...i)=>n.onModify&&n.onModify(...i))},"\u786E\u8BA4\u4FEE\u6539"),e("div",_s,[fs,e("p",{onClick:o[11]||(o[11]=(...i)=>n.backLogin&&n.backLogin(...i))},"\u8FD4\u56DE\u767B\u9646")])])])]),M(u)])}var ys=b(A,[["render",ws],["__scopeId","data-v-90b54a92"]]);export{ys as default};
